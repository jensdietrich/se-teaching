<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_191) on Thu Mar 07 11:54:03 NZDT 2019 -->
<title>StackLocator</title>
<meta name="date" content="2019-03-07">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="StackLocator";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":9,"i6":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/logging/log4j/util/SortedArrayStringMap.html" title="class in org.apache.logging.log4j.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/logging/log4j/util/StackLocatorUtil.html" title="class in org.apache.logging.log4j.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/logging/log4j/util/StackLocator.html" target="_top">Frames</a></li>
<li><a href="StackLocator.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.logging.log4j.util</div>
<h2 title="Class StackLocator" class="title">Class StackLocator</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.logging.log4j.util.StackLocator</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">StackLocator</span>
extends java.lang.Object</pre>
<div class="block"><em>Consider this class private.</em> Provides various methods to determine the caller class. <h3>Background</h3>
 <p>
 This method, available only in the Oracle/Sun/OpenJDK implementations of the Java Virtual Machine, is a much more
 efficient mechanism for determining the <code>Class</code> of the caller of a particular method. When it is not available,
 a <code>SecurityManager</code> is the second-best option. When this is also not possible, the <code>StackTraceElement[]</code>
 returned by <code>Throwable.getStackTrace()</code> must be used, and its <code>String</code> class name converted to a
 <code>Class</code> using the slow <code>Class.forName(java.lang.String)</code> (which can add an extra microsecond or more for each invocation
 depending on the runtime ClassLoader hierarchy).
 </p>
 <p>
 During Java 8 development, the <code>sun.reflect.Reflection.getCallerClass(int)</code> was removed from OpenJDK, and this
 change was back-ported to Java 7 in version 1.7.0_25 which changed the behavior of the call and caused it to be off
 by one stack frame. This turned out to be beneficial for the survival of this API as the change broke hundreds of
 libraries and frameworks relying on the API which brought much more attention to the intended API removal.
 </p>
 <p>
 After much community backlash, the JDK team agreed to restore <code>getCallerClass(int)</code> and keep its existing
 behavior for the rest of Java 7. However, the method is deprecated in Java 8, and current Java 9 development has not
 addressed this API. Therefore, the functionality of this class cannot be relied upon for all future versions of Java.
 It does, however, work just fine in Sun JDK 1.6, OpenJDK 1.6, Oracle/OpenJDK 1.7, and Oracle/OpenJDK 1.8. Other Java
 environments may fall back to using <code>Throwable.getStackTrace()</code> which is significantly slower due to
 examination of every virtual frame of execution.
 </p></div>
<dl><DT>&nbsp;</DT><DD><map name="umlmap117W0H0"><area shape="rect" coords="6,343,119,362" href="http://www.yworks.com/" alt=""><area shape="rect" coords="273,138,384,164" href="#" alt=""><area shape="rect" coords="178,166,431,182" href="#calcLocation-java.lang.String-" alt=""><area shape="rect" coords="178,182,371,199" href="#getCallerClass-int-" alt=""><area shape="rect" coords="178,199,412,215" href="#getCallerClass-java.lang.Class-" alt=""><area shape="rect" coords="178,215,429,231" href="#getCallerClass-java.lang.String-java.lang.String-" alt=""><area shape="rect" coords="178,231,450,247" href="#getCurrentStackTrace--" alt=""><area shape="rect" coords="178,247,358,263" href="#getInstance--" alt=""><area shape="rect" coords="178,263,471,279" href="#getStackTraceElement-int-" alt=""><area shape="rect" coords="170,111,346,129" href="package-summary.html" alt=""></map>
<map name="umlmap117W1H0"><area shape="rect" coords="-74,138,36,164" href="#" alt=""><area shape="rect" coords="-170,166,83,182" href="#calcLocation-java.lang.String-" alt=""><area shape="rect" coords="-170,182,23,199" href="#getCallerClass-int-" alt=""><area shape="rect" coords="-170,199,64,215" href="#getCallerClass-java.lang.Class-" alt=""><area shape="rect" coords="-170,215,81,231" href="#getCallerClass-java.lang.String-java.lang.String-" alt=""><area shape="rect" coords="-170,231,102,247" href="#getCurrentStackTrace--" alt=""><area shape="rect" coords="-170,247,10,263" href="#getInstance--" alt=""><area shape="rect" coords="-170,263,123,279" href="#getStackTraceElement-int-" alt=""><area shape="rect" coords="-178,111,-2,129" href="package-summary.html" alt=""></map>
<A NAME="UmlDiagram"></A><CENTER><TABLE CLASS="UmlTable" BORDER="0" CELLSPACING="0" CELLPADDING="0">
<TR CLASS="UmlTableRow">
<TD CLASS="UmlTableCell"><IMG SRC="StackLocatorW0H0.png" WIDTH="348" HEIGHT="370" USEMAP="#umlmap117W0H0" BORDER="0"></TD>
<TD CLASS="UmlTableCell"><IMG SRC="StackLocatorW1H0.png" WIDTH="348" HEIGHT="370" USEMAP="#umlmap117W1H0" BORDER="0"></TD>
</TR>
</TABLE></CENTER></DD>
<!-- yWorks UML Doclet   http://www.yworks.com/   b0ae8295803b347ea8c57eae69dd9f523e8b0cbb8a9c296e... -->
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.lang.StackTraceElement</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/logging/log4j/util/StackLocator.html#calcLocation-java.lang.String-">calcLocation</a></span>(java.lang.String&nbsp;fqcnOfLogger)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.lang.Class&lt;?&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/logging/log4j/util/StackLocator.html#getCallerClass-java.lang.Class-">getCallerClass</a></span>(java.lang.Class&lt;?&gt;&nbsp;anchor)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.lang.Class&lt;?&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/logging/log4j/util/StackLocator.html#getCallerClass-int-">getCallerClass</a></span>(int&nbsp;depth)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.Class&lt;?&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/logging/log4j/util/StackLocator.html#getCallerClass-java.lang.String-java.lang.String-">getCallerClass</a></span>(java.lang.String&nbsp;fqcn,
              java.lang.String&nbsp;pkg)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.Stack&lt;java.lang.Class&lt;?&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/logging/log4j/util/StackLocator.html#getCurrentStackTrace--">getCurrentStackTrace</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/logging/log4j/util/StackLocator.html" title="class in org.apache.logging.log4j.util">StackLocator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/logging/log4j/util/StackLocator.html#getInstance--">getInstance</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.lang.StackTraceElement</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/logging/log4j/util/StackLocator.html#getStackTraceElement-int-">getStackTraceElement</a></span>(int&nbsp;depth)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/logging/log4j/util/StackLocator.html" title="class in org.apache.logging.log4j.util">StackLocator</a>&nbsp;getInstance()</pre>
</li>
</ul>
<a name="getCallerClass-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCallerClass</h4>
<pre>public&nbsp;java.lang.Class&lt;?&gt;&nbsp;getCallerClass(int&nbsp;depth)</pre>
</li>
</ul>
<a name="getCallerClass-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCallerClass</h4>
<pre>public&nbsp;java.lang.Class&lt;?&gt;&nbsp;getCallerClass(java.lang.String&nbsp;fqcn,
                                         java.lang.String&nbsp;pkg)</pre>
</li>
</ul>
<a name="getCallerClass-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCallerClass</h4>
<pre>public&nbsp;java.lang.Class&lt;?&gt;&nbsp;getCallerClass(java.lang.Class&lt;?&gt;&nbsp;anchor)</pre>
</li>
</ul>
<a name="getCurrentStackTrace--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentStackTrace</h4>
<pre>public&nbsp;java.util.Stack&lt;java.lang.Class&lt;?&gt;&gt;&nbsp;getCurrentStackTrace()</pre>
</li>
</ul>
<a name="calcLocation-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcLocation</h4>
<pre>public&nbsp;java.lang.StackTraceElement&nbsp;calcLocation(java.lang.String&nbsp;fqcnOfLogger)</pre>
</li>
</ul>
<a name="getStackTraceElement-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getStackTraceElement</h4>
<pre>public&nbsp;java.lang.StackTraceElement&nbsp;getStackTraceElement(int&nbsp;depth)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/logging/log4j/util/SortedArrayStringMap.html" title="class in org.apache.logging.log4j.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/logging/log4j/util/StackLocatorUtil.html" title="class in org.apache.logging.log4j.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/logging/log4j/util/StackLocator.html" target="_top">Frames</a></li>
<li><a href="StackLocator.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
